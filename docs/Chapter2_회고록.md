# Chapter 2 회고록
##콘서트 예약 서비스 개발 회고
Chapter 2에서 저는 세 가지 주제 중 콘서트 예약 서비스 주제를 선택하여, 각 주차별 요구사항에 맞춰 기능을 구현했습니다.
이번 과정을 통해 시나리오 분석부터 작업 계획까지 새로운 도전이 시작되었음을 느꼈습니다. 처음 접하는 작업들이 많았고, 그 과정에서 많은 것을 배우게 되었습니다.

먼저, 시나리오 분석 및 작업 계획 수립은 쉽지 않았습니다. 특히, 시퀀스 다이어그램, 패키지 구조 설계,
마일스톤 설정, 요구사항 분석, ERD 작성, API 명세 작성, 그리고 Mock API 설계는 처음 시도해 보는 작업들이었기에 생소하고 어려운 부분이 많았습니다.
다른 개발자들에겐 당연한 작업일지 모르지만, 저에게는 낯선 영역이었습니다.. 이를 극복하기 위해 관련 서적을 구매해 읽고,
왜 이러한 작업들이 중요한지에 대해 깊이 이해하려고 노력했습니다.

이 과정을 통해, 시스템 시나리오를 명확하게 파악하는 데 도움이 되었고, Use Case를 좀 더 자세히 이해할 수 있었습니다.
그러나 패키지 구조 설계에서는 많은 고민이 있었습니다. Simple is best라는 생각을 가진 저에게 파사드 패턴이나 애플리케이션 계층 같은 개념을 적용하는 것은 익숙하지 않았고,
추상화를 통해 개발하는 것이 큰 도전이었습니다. 어떻게 하면 심플하면서도 클린한 구조를 유지할 수 있을까 고민했고, 여러 멘토링을 들으며 패키지 구조를 계속해서 변경해 나갔습니다. 
그 과정에서 DIP(의존성 역전 원칙)를 위배하거나, SRP(단일 책임 원칙)을 위배하는 경우도 생기면서 많은 시행착오를 겪었습니다.

리팩토링을 통해 구조를 복잡하게 생각하는 경향이 있다는 것을 깨달았고, 단순하면서도 기능적으로 명확한 구조로 돌아갔습니다. 
결국 도메인 레이어 아키텍처 구조로 회귀하게 되었습니다.이를 통해 완벽한 설계는 없다는 교훈을 얻었고, 지속적인 리팩토링과 보완을 통해 점차 나아지는 시스템이 좋은 설계를 만들어낸다는 것을 체감했습니다.

ERD 작성 역시 큰 도전이었습니다. 테이블 관계를 구성하는 일이 쉽지 않았고, 패키지 구조와 마찬가지로 계속해서 수정하며 진행했습니다.
완벽한 설계는 없다는 사실을 다시 한번 깨닫게 되었고, 시스템은 수없이 리팩토링하고 보완해야만 더 나은 구조로 발전한다는 생각을 하게 되었습니다.

특히, 단위 테스트와 통합 테스트를 진행하면서 시간이 부족한 느낌을 받았습니다. 처음에는 단위 테스트와 통합 테스트를 즐기며 시작했으나,
시간이 지날수록 양이 많아지고 설계 수정까지 반복되면서 시간 관리가 어려웠습니다. 이로 인해 아쉬움이 남았습니다.

## 구현 단계에서의 주요 도전과 성과
구현 단계에서는 콘서트 예약 서비스 API를 기능별로 구현하면서 다양한 고려사항을 접했습니다.
특히 대기열 처리에 대한 고민이 많았습니다. 어떤 정책을 적용해야 할지 많이 고민했으나,
결국 구현 단계에서 원하는 만큼의 성과를 내지 못해 아쉬웠습니다.

반면, 콘서트 좌석 예약과 결제 API는 비교적 성공적으로 구현한 것 같습니다. 
특히 좌석 예약에서는 낙관적 락을 떠올렸고, 
결제 처리에서는 비관적 락을 사용하여 동시성 통합 테스트를 진행했습니다.

낙관적 락을 좌석 예약에 적용한 이유는 간단합니다. 낙관적 락은 먼저 변경한 사용자가 승리하고, 
나머지는 취소 처리되는 방식이기 때문에, 경쟁이 적은 상황에서 효율적으로 처리할 수 있습니다. 
반면, 결제 처리는 데이터 일관성이 매우 중요한 작업이므로, 비관적 락을 사용하여 동시성 문제를 예방하고 안정성을 높였습니다.

## 회고와 느낀 점
기능 구현과 리팩토링을 반복하며 동시성 통합 테스트를 진행한 후, Postman을 사용해 API를 호출해 본 결과, 기능이 문제없이 잘 동작하는 것을 확인했습니다.
이러한 경험을 통해 큰 성장을 이루었다는 느낌을 받았고, 처음에는 어려웠던 부분들이 시간이 지나면서 점점 익숙해졌으며, 문제 해결 능력도 향상된 것을 체감했습니다.

하지만 아쉬움이 남는 부분도 있었습니다. 대기열 처리에서 정책을 명확히 세우지 못해 기능적으로 부족한 부분이 있었고, 동시성 제어에 대한 지속적인 학습이 필요하다고 느꼈습니다.

또한, 시간 관리와 작업 계획 수립도 중요한 과제가 되었습니다. 테스트와 리팩토링이 반복되면서 작업 흐름이 어긋나는 경우가 많았고, 
이를 통해 더 철저한 계획과 시간 관리가 필요함을 절실히 느꼈습니다. 그러나 이러한 과정을 통해 끊임없는 리팩토링과 개선이 좋은 시스템을 만든다는 점을 배웠고,
앞으로도 더 나은 구조와 성능을 위해 고민하고 발전해 나가고 싶습니다.